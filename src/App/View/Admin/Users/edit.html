{% extends "back.html" %}
{% block title %}User Edit{% endblock %}
{% block users_active %}active{% endblock %}
{% block content %}
    <div class="row">
        <div class="col-md-12">
            <div class="box box-primary">
                <div class="box-header with-border">
                    <h3 class="box-title">Edit user &ldquo;{{ user.firstname }} {{ user.lastname }}&rdquo;</h3>
                    <div class="box-tools">
                        <div class="input-group input-group-sm">
                            <a class="btn btn-sm btn-success pull-right" href="{{ urlFor("intranet.users.add") }}"><i class="icon fa fa-plus"></i> Add New User</a>
                        </div>
                    </div>
                </div>
                <form name="form-user" id="form-user" method="post" action="{{ urlFor("intranet.users.edit", {id: user.id}) }}">
                    <input type="hidden" name="id" value="{{ user.id }}">
                    <div class="box-body">
                        {% include "Admin/Utils/_error_success.html" with {result: message} %}
                        <div class="row">
                            <div class="col-xs-6">
                                <div class="form-group">
                                    <label for="firstname">First Name <span class="required">*</span></label>
                                    <input type="text" name="firstname" class="form-control" id="firstname" value="{{ user.firstname }}">
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="form-group">
                                    <label for="lastname">Last Name <span class="required">*</span></label>
                                    <input type="text" name="lastname" class="form-control" id="lastname" value="{{ user.lastname }}">
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-6">
                                <div class="form-group">
                                    <label for="email">Email <span class="required">*</span></label>
                                    <input type="email" name="email" class="form-control" id="email" value="{{ user.email }}">
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="form-group">
                                    <label for="password">New Password</label>
                                    <input type="password" name="password" class="form-control" id="password" value="">
                                    <p class="help-block">Type the new password if you want to change it!<br>Password must be 8+ alpha/numeric characters long and it must contain at least a number!</p>
                                </div>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-xs-6">
                                <div class="form-group">
                                    <label for="role">Role <span class="required">*</span></label>
                                    <select name="role" class="form-control" id="role">
                                        <option value="ADMIN" {% if user.role == "ADMIN" %}selected{% endif %}>ADMIN</option>
                                        <option value="AUTHOR" {% if user.role == "AUTHOR" %}selected{% endif %}>AUTHOR</option>
                                    </select>
                                </div>
                            </div>
                            <div class="col-xs-6">
                                <div class="form-group">
                                    <label for="status">Status <span class="required">*</span></label>
                                    <select name="status" class="form-control" id="status">
                                        <option value="ACTIVE" {% if user.status == "ACTIVE" %}selected{% endif %}>ACTIVE</option>
                                        <option value="INACTIVE" {% if user.status == "INACTIVE" %}selected{% endif %}>INACTIVE</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="box-footer">
                        <button type="submit" class="btn btn-primary"><i class="icon fa fa-floppy-o"></i> Save user</button>
                        <a class="btn btn-default" href="{{ urlFor("intranet.users.list", {page: 1}) }}"><i class="icon fa fa-level-up"></i> Go to users</a>
                    </div>
                </form>
            </div>
        </div>
    </div>
{% endblock %}
